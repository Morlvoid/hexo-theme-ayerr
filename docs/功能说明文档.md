# Hexo Theme Ayer 功能说明文档

## 1. 文章相关功能

### 1.1 文章发布
- 支持标准的 Hexo 文章发布流程，通过在 `source/_posts` 目录下创建 Markdown 文件实现
- 支持文章摘要功能，通过在文章中添加 `<!--more-->` 标记来控制首页显示内容
- 支持自动摘要功能，可通过设置 `excerpt_all: true` 使首页只显示文章归档

### 1.2 分类管理
- 支持文章分类功能，通过在文章 Front-matter 中设置 `categories` 字段实现
- 提供分类页面，可通过 `/categories` 访问
- 在文章页面会显示文章所属分类

### 1.3 标签系统
- 支持文章标签功能，通过在文章 Front-matter 中设置 `tags` 字段实现
- 提供标签页面，可通过 `/tags` 访问
- 在文章页面会显示文章所属标签

### 1.4 评论功能
- 支持多种评论系统：
  - Valine：基于 LeanCloud 的无后端评论系统
  - Gitalk：基于 GitHub Issues 的评论系统
  - Twikoo：基于云开发的评论系统
  - MiniValine：轻量级评论系统
- 可在 `_config.yml` 中配置启用的评论系统

### 1.5 阅读量统计
- 集成了不蒜子统计工具，可统计文章阅读量
- 可在 `_config.yml` 中通过 `busuanzi.enable` 控制是否启用

### 1.6 相关文章推荐
- 提供上一篇/下一篇文章导航功能
- 通过 `nav_text` 配置项可自定义导航文字

### 1.7 文章字数统计
- 集成了 hexo-wordcount 插件，可统计文章字数
- 可在 `_config.yml` 中通过 `word_count` 配置项控制是否启用
- 支持在单篇文章中通过 `no_word_count: true` 关闭字数统计

### 1.8 文章目录
- 支持文章目录功能，通过 `toc: true` 启用
- 使用 tocbot 实现目录的生成和滚动高亮

## 2. 主题内置功能

### 2.1 搜索功能
- 支持站点搜索功能，基于 hexo-generator-searchdb 插件
- 搜索配置：
  - `path`: 搜索文件路径，设置为 XML 格式
  - `field`: 搜索范围，可选 post（仅文章）、page（仅页面）、all（全部）
  - `content`: 是否包含文章内容
  - `format`: 内容格式化方式，可选 striptags（去除标签）、raw（原始内容）
- 搜索索引需要通过安装 hexo-generator-searchdb 插件并运行 `hexo generate` 命令生成，每次内容更新后需要重新生成

### 2.2 订阅功能
- 支持 RSS 订阅功能，需要安装 hexo-generator-feed 插件
- 可在 `_config.yml` 中通过 `rss` 配置项设置订阅地址
- 默认订阅地址为 `/atom.xml`

## 3. 自定义配置功能

### 3.1 菜单配置
- 通过 `menu` 配置项可自定义侧边栏菜单
- 支持添加自定义菜单项和对应链接

### 3.2 站点配置
- `subtitle`: 站点次标题和打字动效配置
- `favicon`: 网站图标
- `logo`: 侧边栏 logo
- `cover`: 封面配置，包括是否启用、背景图和 logo
- `progressBar`: 页面顶部进度条
- `broadcast`: 告示板模块配置

### 3.3 文章配置
- `excerpt_link`: 文章截断按钮文字
- `excerpt_all`: 是否自动生成摘要
- `copy_btn`: 是否开启代码复制按钮
- `share_enable`: 是否开启文章分享按钮
- `share_china`: 是否显示国内社交平台
- `toc`: 是否开启文章目录
- `image_viewer`: 是否支持图片点击放大
- `word_count`: 文章字数统计配置
- `reward_type`: 打赏功能配置
- `copyright_type`: 版权声明配置

### 3.4 搜索配置
- `search`: 搜索功能配置，包括路径、范围、是否包含内容等

### 3.5 外观配置
- `darkmode`: 是否启用黑夜模式开关
- `canvas_bg`: 动态背景效果
- `mouse`: 自定义鼠标样式
- `click_effect`: 鼠标点击效果
- `layout`: 页面宽度自定义

### 3.6 统计分析
- `busuanzi`: 不蒜子访问统计
- `cnzz`: 友盟统计
- `google_analytics`: Google 分析
- `baidu_analytics`: 百度统计

### 3.7 数学公式
- `mathjax`: Mathjax 数学公式
- `katex`: Katex 数学公式
- `mermaid`: Mermaid 流程图

### 3.8 其他配置
- `since`: 网站成立年份
- `icp`: ICP 备案信息
- `gongan`: 公安备案信息
- `friends_link`: 友情链接

### 3.9 建议添加的配置项
1. **文章卡片样式**：可添加配置项允许用户选择不同的文章卡片样式
2. **代码主题**：可添加配置项允许用户选择不同的代码高亮主题
3. **社交账号**：可添加配置项集中管理社交媒体账号链接
4. **自定义 CSS/JS**：可添加配置项允许用户注入自定义 CSS 和 JS 代码
5. **页面加载动画**：可添加配置项允许用户选择不同的页面加载动画效果

## 4. 其他功能

### 4.1 主题样式设置
- 支持黑夜模式，可通过 `darkmode: true` 启用
- 提供自定义鼠标样式功能
- 支持鼠标点击效果，可选爱心、爆炸烟花、粒子烟花等效果

### 4.2 响应式设计支持
- 主题采用响应式设计，适配不同屏幕尺寸
- 在移动设备上会自动调整布局，确保良好的浏览体验

### 4.3 代码高亮
- 支持代码语法高亮功能
- 集成了代码复制按钮，方便用户复制代码

### 4.4 社交账号集成
- 支持文章分享功能，可分享到多个社交平台
- 可通过 `share_china` 配置项控制是否显示国内社交平台

### 4.5 SEO 优化
- 支持自定义页面标题和描述
- 集成了 Google 分析和百度统计，方便站点数据收集
- 支持添加 ICP 备案信息，符合国内网站要求

### 4.6 多媒体支持
- 支持图片画廊功能，可通过 `justifiedGallery` 和 `gallery` 实现
- 支持音乐播放器，可集成网易云音乐
- 支持数学公式和流程图的渲染

### 4.7 安全功能
- 支持文章加密功能，可通过 `lock` 配置项设置密码
- 支持版权声明功能，可保护文章内容

## 5. 技术实现

### 5.1 目录结构
- `layout/`: 模板文件，包括页面布局和组件
- `source/`: 静态资源文件，包括 CSS、JS、图片等
- `source-src/`: 源代码文件，包括未编译的 CSS 和 JS
- `scripts/`: 主题脚本，包括事件处理、过滤器和辅助函数
- `config/`: 配置文件
- `languages/`: 多语言支持文件

### 5.2 核心技术
- 使用 EJS 作为模板引擎
- 使用 Stylus 作为 CSS 预处理器
- 使用 JavaScript 实现交互功能
- 集成了多个第三方库，如 tocbot、Valine、Gitalk 等

### 5.3 性能优化
- 支持图片懒加载
- 代码压缩和合并
- 响应式设计，减少不必要的资源加载

## 6. 总结

Hexo Theme Ayer 是一款功能丰富、设计美观的 Hexo 主题，具有以下特点：

1. **丰富的文章功能**：支持分类、标签、评论、阅读量统计等多种文章相关功能
2. **强大的自定义能力**：通过 `_config.yml` 文件可进行全面的自定义配置
3. **良好的用户体验**：响应式设计、黑夜模式、动态效果等提升用户体验
4. **技术先进**：集成了多种现代前端技术和第三方服务
5. **易于扩展**：模块化的代码结构，便于功能扩展和定制

该主题适合个人博客、技术分享等场景使用，提供了全面的功能支持和良好的用户体验。